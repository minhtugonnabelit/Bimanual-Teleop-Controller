<launch>

    <!-- joystick node -->
    <node name="joy" pkg="joy" type="joy_node" required="true">
        <param name="~dev" value="/dev/input/js0" />
        <param name="~deadzone" value="0.05" />
    </node>

    <rosparam file="$(find bimanual_teleop_controller)/config/raw_pr2_joint_position_controllers.yaml" command="load" />

    <node pkg="rosservice" type="rosservice" name="load_r_shoulder_pan_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_shoulder_pan_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_r_shoulder_lift_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_shoulder_lift_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_r_upper_arm_roll_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_upper_arm_roll_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_r_elbow_flex_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_elbow_flex_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_r_forearm_roll_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_forearm_roll_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_r_wrist_flex_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_wrist_flex_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_r_wrist_roll_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'r_wrist_roll_position_controller''"/>

    <node pkg="rosservice" type="rosservice" name="load_l_shoulder_pan_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_shoulder_pan_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_l_shoulder_lift_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_shoulder_lift_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_l_upper_arm_roll_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_upper_arm_roll_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_l_elbow_flex_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_elbow_flex_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_l_forearm_roll_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_forearm_roll_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_l_wrist_flex_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_wrist_flex_position_controller''"/>
    <node pkg="rosservice" type="rosservice" name="load_l_wrist_roll_position_controller" args="call /pr2_controller_manager/load_controller 'name: 'l_wrist_roll_position_controller''"/>


   <node pkg="bimanual_teleop_controller" type="pr2_gazebo_test.py" name="bcmp_test" output="screen"/>

</launch>   